!function(n){if("function"==typeof bootstrap)bootstrap("xmpp",n);else if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeXMPP=n}else"undefined"!=typeof window?window.XMPP=n():global.XMPP=n()}(function(){var n;return function(n,t,e){function r(e,i){if(!t[e]){if(!n[e]){var o="function"==typeof require&&require;if(!i&&o)return o(e,!0);if(u)return u(e,!0);throw new Error("Cannot find module '"+e+"'")}var a=t[e]={exports:{}};n[e][0].call(a.exports,function(t){var u=n[e][1][t];return r(u?u:t)},a,a.exports)}return t[e].exports}for(var u="function"==typeof require&&require,i=0;i<e.length;i++)r(e[i]);return r}({1:[function(n,t){"use strict";var e=n("lodash"),r=n("./lib/core"),u=n("./lib/helpers"),i=n("./lib/types");t.exports=e.extend({},r,u,i)},{"./lib/core":2,"./lib/helpers":3,"./lib/types":4,lodash:5}],5:[function(t,e,r){!function(t){!function(u){function i(n,t,e){for(var r=(e||0)-1,u=n.length;++r<u;)if(n[r]===t)return r;return-1}function o(n,t){var e=typeof t;if(n=n.cache,"boolean"==e||null==t)return n[t];"number"!=e&&"string"!=e&&(e="object");var r="number"==e?t:S+t;return n=n[e]||(n[e]={}),"object"==e?n[r]&&i(n[r],t)>-1?0:-1:n[r]?0:-1}function a(n){var t=this.cache,e=typeof n;if("boolean"==e||null==n)t[n]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:S+n,u=t[e]||(t[e]={});"object"==e?(u[r]||(u[r]=[])).push(n)==this.array.length&&(t[e]=!1):u[r]=!0}}function l(n){return n.charCodeAt(0)}function c(n,t){var e=n.index,r=t.index;if(n=n.criteria,t=t.criteria,n!==t){if(n>t||"undefined"==typeof n)return 1;if(t>n||"undefined"==typeof t)return-1}return r>e?-1:1}function f(n){var t=-1,e=n.length,r=v();r["false"]=r["null"]=r["true"]=r.undefined=!1;var u=v();for(u.array=n,u.cache=r,u.push=a;++t<e;)u.push(n[t]);return r.object===!1?(g(u),null):u}function s(n){return"\\"+Y[n]}function p(){return b.pop()||[]}function v(){return _.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function h(n){n.length=0,b.length<A&&b.push(n)}function g(n){var t=n.cache;t&&g(t),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,_.length<A&&_.push(n)}function y(n,t,e){t||(t=0),"undefined"==typeof e&&(e=n?n.length:0);for(var r=-1,u=e-t||0,i=Array(0>u?0:u);++r<u;)i[r]=n[t+r];return i}function d(n){function t(n){return n&&"object"==typeof n&&!Cr(n)&&ar.call(n,"__wrapped__")?n:new e(n)}function e(n){this.__wrapped__=n}function r(n,t,e,r){function u(){var r=arguments,f=o?this:t;if(i||(n=t[l]),e.length&&(r=r.length?(r=wr.call(r),c?r.concat(e):e.concat(r)):e),this instanceof u){f=a(n.prototype);var s=n.apply(f,r);return yt(s)?s:f}return n.apply(f,r)}var i=gt(n),o=!e,l=t;if(o){var c=r;e=t}else if(!i){if(!r)throw new He;t=n}return u}function a(n){return yt(n)?vr(n):{}}function b(n){return Or[n]}function _(){var n=(n=t.indexOf)===ne?i:n;return n}function A(n){return function(e,r,u,i){return"boolean"!=typeof r&&null!=r&&(i=u,u=i&&i[r]===e?m:r,r=!1),null!=u&&(u=t.createCallback(u,i)),n(e,r,u,i)}}function Y(n){var t,e;return n&&sr.call(n)==K&&(t=n.constructor,!gt(t)||t instanceof t)?(Br(n,function(n,t){e=t}),e===m||ar.call(n,e)):!1}function Z(n){return Tr[n]}function tt(n){return sr.call(n)==$}function rt(n,e,r,u,i,o){var a=n;if("boolean"!=typeof e&&null!=e&&(u=r,r=e,e=!1),"function"==typeof r){if(r="undefined"==typeof u?r:t.createCallback(r,u,1),a=r(a),"undefined"!=typeof a)return a;a=n}var l=yt(a);if(l){var c=sr.call(a);if(!H[c])return a;var f=Cr(a)}if(!l||!e)return l?f?y(a):Ir({},a):a;var s=Ar[c];switch(c){case U:case W:return new s(+a);case X:case G:return new s(a);case V:return s(a.source,T.exec(a))}var v=!i;i||(i=p()),o||(o=p());for(var g=i.length;g--;)if(i[g]==n)return o[g];return a=f?s(a.length):{},f&&(ar.call(n,"index")&&(a.index=n.index),ar.call(n,"input")&&(a.input=n.input)),i.push(n),o.push(a),(f?Ft:Fr)(n,function(n,t){a[t]=rt(n,e,r,m,i,o)}),v&&(h(i),h(o)),a}function ut(n,t,e){return rt(n,!0,t,e)}function it(n,e,r){var u;return e=t.createCallback(e,r),Fr(n,function(n,t,r){return e(n,t,r)?(u=t,!1):void 0}),u}function ot(n){var t=[];return Br(n,function(n,e){gt(n)&&t.push(e)}),t.sort()}function at(n,t){return n?ar.call(n,t):!1}function lt(n){for(var t=-1,e=Nr(n),r=e.length,u={};++t<r;){var i=e[t];u[n[i]]=i}return u}function ct(n){return n===!0||n===!1||sr.call(n)==U}function ft(n){return n?"object"==typeof n&&sr.call(n)==W:!1}function st(n){return n?1===n.nodeType:!1}function pt(n){var t=!0;if(!n)return t;var e=sr.call(n),r=n.length;return e==z||e==G||e==$||e==K&&"number"==typeof r&&gt(n.splice)?!r:(Fr(n,function(){return t=!1}),t)}function vt(n,e,r,u,i,o){var a=r===w;if("function"==typeof r&&!a){r=t.createCallback(r,u,2);var l=r(n,e);if("undefined"!=typeof l)return!!l}if(n===e)return 0!==n||1/n==1/e;var c=typeof n,f=typeof e;if(n===n&&(!n||"function"!=c&&"object"!=c)&&(!e||"function"!=f&&"object"!=f))return!1;if(null==n||null==e)return n===e;var s=sr.call(n),v=sr.call(e);if(s==$&&(s=K),v==$&&(v=K),s!=v)return!1;switch(s){case U:case W:return+n==+e;case X:return n!=+n?e!=+e:0==n?1/n==1/e:n==+e;case V:case G:return n==Ge(e)}var g=s==z;if(!g){if(ar.call(n,"__wrapped__ ")||ar.call(e,"__wrapped__"))return vt(n.__wrapped__||n,e.__wrapped__||e,r,u,i,o);if(s!=K)return!1;var y=n.constructor,d=e.constructor;if(y!=d&&!(gt(y)&&y instanceof y&&gt(d)&&d instanceof d))return!1}var m=!i;i||(i=p()),o||(o=p());for(var b=i.length;b--;)if(i[b]==n)return o[b]==e;var _=0;if(l=!0,i.push(n),o.push(e),g){if(b=n.length,_=e.length,l=_==n.length,!l&&!a)return l;for(;_--;){var x=b,S=e[_];if(a)for(;x--&&!(l=vt(n[x],S,r,u,i,o)););else if(!(l=vt(n[_],S,r,u,i,o)))break}return l}return Br(e,function(t,e,a){return ar.call(a,e)?(_++,l=ar.call(n,e)&&vt(n[e],t,r,u,i,o)):void 0}),l&&!a&&Br(n,function(n,t,e){return ar.call(e,t)?l=--_>-1:void 0}),m&&(h(i),h(o)),l}function ht(n){return gr(n)&&!yr(parseFloat(n))}function gt(n){return"function"==typeof n}function yt(n){return!(!n||!Q[typeof n])}function dt(n){return bt(n)&&n!=+n}function mt(n){return null===n}function bt(n){return"number"==typeof n||sr.call(n)==X}function _t(n){return n?"object"==typeof n&&sr.call(n)==V:!1}function xt(n){return"string"==typeof n||sr.call(n)==G}function wt(n){return"undefined"==typeof n}function St(n,e,r){var u=arguments,i=0,o=2;if(!yt(n))return n;if(r===w)var a=u[3],l=u[4],c=u[5];else{var f=!0;l=p(),c=p(),"number"!=typeof r&&(o=u.length),o>3&&"function"==typeof u[o-2]?a=t.createCallback(u[--o-1],u[o--],2):o>2&&"function"==typeof u[o-1]&&(a=u[--o])}for(;++i<o;)(Cr(u[i])?Ft:Fr)(u[i],function(t,e){var r,u,i=t,o=n[e];if(t&&((u=Cr(t))||Mr(t))){for(var f=l.length;f--;)if(r=l[f]==t){o=c[f];break}if(!r){var s;a&&(i=a(o,t),(s="undefined"!=typeof i)&&(o=i)),s||(o=u?Cr(o)?o:[]:Mr(o)?o:{}),l.push(t),c.push(o),s||(o=St(o,t,w,a,l,c))}}else a&&(i=a(o,t),"undefined"==typeof i&&(i=t)),"undefined"!=typeof i&&(o=i);n[e]=o});return f&&(h(l),h(c)),n}function jt(n,e,r){var u=_(),i="function"==typeof e,o={};if(i)e=t.createCallback(e,r);else var a=rr.apply(Qe,wr.call(arguments,1));return Br(n,function(n,t,r){(i?!e(n,t,r):u(a,t)<0)&&(o[t]=n)}),o}function At(n){for(var t=-1,e=Nr(n),r=e.length,u=$e(r);++t<r;){var i=e[t];u[t]=[i,n[i]]}return u}function kt(n,e,r){var u={};if("function"!=typeof e)for(var i=-1,o=rr.apply(Qe,wr.call(arguments,1)),a=yt(n)?o.length:0;++i<a;){var l=o[i];l in n&&(u[l]=n[l])}else e=t.createCallback(e,r),Br(n,function(n,t,r){e(n,t,r)&&(u[t]=n)});return u}function Ct(n,e,r,u){var i=Cr(n);if(e=t.createCallback(e,u,4),null==r)if(i)r=[];else{var o=n&&n.constructor,l=o&&o.prototype;r=a(l)}return(i?Ft:Fr)(n,function(n,t,u){return e(r,n,t,u)}),r}function Et(n){for(var t=-1,e=Nr(n),r=e.length,u=$e(r);++t<r;)u[t]=n[e[t]];return u}function Nt(n){for(var t=-1,e=rr.apply(Qe,wr.call(arguments,1)),r=e.length,u=$e(r);++t<r;)u[t]=n[e[t]];return u}function Ot(n,t,e){var r=-1,u=_(),i=n?n.length:0,o=!1;return e=(0>e?mr(0,i+e):e)||0,i&&"number"==typeof i?o=(xt(n)?n.indexOf(t,e):u(n,t,e))>-1:Fr(n,function(n){return++r>=e?!(o=n===t):void 0}),o}function Tt(n,e,r){var u={};return e=t.createCallback(e,r),Ft(n,function(n,t,r){t=Ge(e(n,t,r)),ar.call(u,t)?u[t]++:u[t]=1}),u}function It(n,e,r){var u=!0;e=t.createCallback(e,r);var i=-1,o=n?n.length:0;if("number"==typeof o)for(;++i<o&&(u=!!e(n[i],i,n)););else Fr(n,function(n,t,r){return u=!!e(n,t,r)});return u}function Rt(n,e,r){var u=[];e=t.createCallback(e,r);var i=-1,o=n?n.length:0;if("number"==typeof o)for(;++i<o;){var a=n[i];e(a,i,n)&&u.push(a)}else Fr(n,function(n,t,r){e(n,t,r)&&u.push(n)});return u}function Bt(n,e,r){e=t.createCallback(e,r);var u=-1,i=n?n.length:0;if("number"!=typeof i){var o;return Fr(n,function(n,t,r){return e(n,t,r)?(o=n,!1):void 0}),o}for(;++u<i;){var a=n[u];if(e(a,u,n))return a}}function Ft(n,e,r){var u=-1,i=n?n.length:0;if(e=e&&"undefined"==typeof r?e:t.createCallback(e,r),"number"==typeof i)for(;++u<i&&e(n[u],u,n)!==!1;);else Fr(n,e);return n}function Mt(n,e,r){var u={};return e=t.createCallback(e,r),Ft(n,function(n,t,r){t=Ge(e(n,t,r)),(ar.call(u,t)?u[t]:u[t]=[]).push(n)}),u}function Lt(n,t){var e=wr.call(arguments,2),r=-1,u="function"==typeof t,i=n?n.length:0,o=$e("number"==typeof i?i:0);return Ft(n,function(n){o[++r]=(u?t:n[t]).apply(n,e)}),o}function qt(n,e,r){var u=-1,i=n?n.length:0;if(e=t.createCallback(e,r),"number"==typeof i)for(var o=$e(i);++u<i;)o[u]=e(n[u],u,n);else o=[],Fr(n,function(n,t,r){o[++u]=e(n,t,r)});return o}function Dt(n,e,r){var u=-1/0,i=u;if(!e&&Cr(n))for(var o=-1,a=n.length;++o<a;){var c=n[o];c>i&&(i=c)}else e=!e&&xt(n)?l:t.createCallback(e,r),Ft(n,function(n,t,r){var o=e(n,t,r);o>u&&(u=o,i=n)});return i}function Pt(n,e,r){var u=1/0,i=u;if(!e&&Cr(n))for(var o=-1,a=n.length;++o<a;){var c=n[o];i>c&&(i=c)}else e=!e&&xt(n)?l:t.createCallback(e,r),Ft(n,function(n,t,r){var o=e(n,t,r);u>o&&(u=o,i=n)});return i}function $t(n,t){var e=-1,r=n?n.length:0;if("number"==typeof r)for(var u=$e(r);++e<r;)u[e]=n[e][t];return u||qt(n,t)}function zt(n,e,r,u){if(!n)return r;var i=arguments.length<3;e=t.createCallback(e,u,4);var o=-1,a=n.length;if("number"==typeof a)for(i&&(r=n[++o]);++o<a;)r=e(r,n[o],o,n);else Fr(n,function(n,t,u){r=i?(i=!1,n):e(r,n,t,u)});return r}function Ut(n,e,r,u){var i=n,o=n?n.length:0,a=arguments.length<3;if("number"!=typeof o){var l=Nr(n);o=l.length}return e=t.createCallback(e,u,4),Ft(n,function(n,t,u){t=l?l[--o]:--o,r=a?(a=!1,i[t]):e(r,i[t],t,u)}),r}function Wt(n,e,r){return e=t.createCallback(e,r),Rt(n,function(n,t,r){return!e(n,t,r)})}function Jt(n){var t=-1,e=n?n.length:0,r=$e("number"==typeof e?e:0);return Ft(n,function(n){var e=ur(xr()*(++t+1));r[t]=r[e],r[e]=n}),r}function Xt(n){var t=n?n.length:0;return"number"==typeof t?t:Nr(n).length}function Kt(n,e,r){var u;e=t.createCallback(e,r);var i=-1,o=n?n.length:0;if("number"==typeof o)for(;++i<o&&!(u=e(n[i],i,n)););else Fr(n,function(n,t,r){return!(u=e(n,t,r))});return!!u}function Vt(n,e,r){var u=-1,i=n?n.length:0,o=$e("number"==typeof i?i:0);for(e=t.createCallback(e,r),Ft(n,function(n,t,r){var i=o[++u]=v();i.criteria=e(n,t,r),i.index=u,i.value=n}),i=o.length,o.sort(c);i--;){var a=o[i];o[i]=a.value,g(a)}return o}function Gt(n){return n&&"number"==typeof n.length?y(n):Et(n)}function Ht(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r}function Qt(n){var t=-1,e=_(),r=n?n.length:0,u=rr.apply(Qe,wr.call(arguments,1)),a=[],l=r>=j&&e===i;if(l){var c=f(u);c?(e=o,u=c):l=!1}for(;++t<r;){var s=n[t];e(u,s)<0&&a.push(s)}return l&&g(u),a}function Yt(n,e,r){var u=-1,i=n?n.length:0;for(e=t.createCallback(e,r);++u<i;)if(e(n[u],u,n))return u;return-1}function Zt(n,e,r){if(n){var u=0,i=n.length;if("number"!=typeof e&&null!=e){var o=-1;for(e=t.createCallback(e,r);++o<i&&e(n[o],o,n);)u++}else if(u=e,null==u||r)return n[0];return y(n,0,br(mr(0,u),i))}}function ne(n,t,e){if("number"==typeof e){var r=n?n.length:0;e=0>e?mr(0,r+e):e||0}else if(e){var u=ae(n,t);return n[u]===t?u:-1}return n?i(n,t,e):-1}function te(n,e,r){if(!n)return[];var u=0,i=n.length;if("number"!=typeof e&&null!=e){var o=i;for(e=t.createCallback(e,r);o--&&e(n[o],o,n);)u++}else u=null==e||r?1:e||u;return y(n,0,br(mr(0,i-u),i))}function ee(n){for(var t=arguments,e=t.length,r=-1,u=p(),a=-1,l=_(),c=n?n.length:0,s=[],v=p();++r<e;){var y=t[r];u[r]=l===i&&(y?y.length:0)>=j&&f(r?t[r]:v)}n:for(;++a<c;){var d=u[0];if(y=n[a],(d?o(d,y):l(v,y))<0){for(r=e,(d||v).push(y);--r;)if(d=u[r],(d?o(d,y):l(t[r],y))<0)continue n;s.push(y)}}for(;e--;)d=u[e],d&&g(d);return h(u),h(v),s}function re(n,e,r){if(n){var u=0,i=n.length;if("number"!=typeof e&&null!=e){var o=i;for(e=t.createCallback(e,r);o--&&e(n[o],o,n);)u++}else if(u=e,null==u||r)return n[i-1];return y(n,mr(0,i-u))}}function ue(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(0>e?mr(0,r+e):br(e,r-1))+1);r--;)if(n[r]===t)return r;return-1}function ie(n,t,e){n=+n||0,e=+e||1,null==t&&(t=n,n=0);for(var r=-1,u=mr(0,tr((t-n)/e)),i=$e(u);++r<u;)i[r]=n,n+=e;return i}function oe(n,e,r){if("number"!=typeof e&&null!=e){var u=0,i=-1,o=n?n.length:0;for(e=t.createCallback(e,r);++i<o&&e(n[i],i,n);)u++}else u=null==e||r?1:mr(0,e);return y(n,u)}function ae(n,e,r,u){var i=0,o=n?n.length:i;for(r=r?t.createCallback(r,u,1):Ne,e=r(e);o>i;){var a=i+o>>>1;r(n[a])<e?i=a+1:o=a}return i}function le(n){return Cr(n)||(arguments[0]=n?wr.call(n):Qe),Dr(rr.apply(Qe,arguments))}function ce(n){for(var t=-1,e=n?Dt($t(n,"length")):0,r=$e(0>e?0:e);++t<e;)r[t]=$t(n,t);return r}function fe(n){return Qt(n,wr.call(arguments,1))}function se(n){return n?ce(arguments):[]}function pe(n,t){for(var e=-1,r=n?n.length:0,u={};++e<r;){var i=n[e];t?u[i]=t[e]:u[i[0]]=i[1]}return u}function ve(n,t){return 1>n?t():function(){return--n<1?t.apply(this,arguments):void 0}}function he(n,t){return kr.fastBind||pr&&arguments.length>2?pr.call.apply(pr,arguments):r(n,t,wr.call(arguments,2))}function ge(n){for(var t=arguments.length>1?rr.apply(Qe,wr.call(arguments,1)):ot(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=he(n[u],n)}return n}function ye(n,t){return r(n,t,wr.call(arguments,2),w)}function de(){var n=arguments;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}}function me(n,t,e){if(null==n)return Ne;var r=typeof n;if("function"!=r){if("object"!=r)return function(t){return t[n]};var u=Nr(n);return function(t){for(var e=u.length,r=!1;e--&&(r=vt(t[u[e]],n[u[e]],w)););return r}}return"undefined"==typeof t||R&&!R.test(ir.call(n))?n:1===e?function(e){return n.call(t,e)}:2===e?function(e,r){return n.call(t,e,r)}:4===e?function(e,r,u,i){return n.call(t,e,r,u,i)}:function(e,r,u){return n.call(t,e,r,u)}}function be(n,t,e){function r(){er(p),er(v),c=0,p=v=null}function u(){var t=h&&(!g||c>1);r(),t&&(s!==!1&&(f=new Ue),a=n.apply(l,o))}function i(){r(),(h||s!==t)&&(f=new Ue,a=n.apply(l,o))}var o,a,l,c=0,f=0,s=!1,p=null,v=null,h=!0;if(t=mr(0,t||0),e===!0){var g=!0;h=!1}else yt(e)&&(g=e.leading,s="maxWait"in e&&mr(t,e.maxWait||0),h="trailing"in e?e.trailing:h);return function(){if(o=arguments,l=this,c++,er(v),s===!1)g&&2>c&&(a=n.apply(l,o));else{var e=new Ue;p||g||(f=e);var r=s-(e-f);0>=r?(er(p),p=null,f=e,a=n.apply(l,o)):p||(p=fr(i,r))}return t!==s&&(v=fr(u,t)),a}}function _e(n){var t=wr.call(arguments,1);return fr(function(){n.apply(m,t)},1)}function xe(n,t){var e=wr.call(arguments,2);return fr(function(){n.apply(m,e)},t)}function we(n,t){function e(){var r=e.cache,u=S+(t?t.apply(this,arguments):arguments[0]);return ar.call(r,u)?r[u]:r[u]=n.apply(this,arguments)}return e.cache={},e}function Se(n){var t,e;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}}function je(n){return r(n,wr.call(arguments,1))}function Ae(n){return r(n,wr.call(arguments,1),null,w)}function ke(n,t,e){var r=!0,u=!0;e===!1?r=!1:yt(e)&&(r="leading"in e?e.leading:r,u="trailing"in e?e.trailing:u),e=v(),e.leading=r,e.maxWait=t,e.trailing=u;var i=be(n,t,e);return g(e),i}function Ce(n,t){return function(){var e=[n];return lr.apply(e,arguments),t.apply(this,e)}}function Ee(n){return null==n?"":Ge(n).replace(L,b)}function Ne(n){return n}function Oe(n){Ft(ot(n),function(r){var u=t[r]=n[r];t.prototype[r]=function(){var n=this.__wrapped__,r=[n];lr.apply(r,arguments);var i=u.apply(t,r);return n&&"object"==typeof n&&n===i?this:new e(i)}})}function Te(){return n._=Ze,this}function Ie(n,t){null==n&&null==t&&(t=1),n=+n||0,null==t?(t=n,n=0):t=+t||0;var e=xr();return n%1||t%1?n+br(e*(t-n+parseFloat("1e-"+((e+"").length-1))),t):n+ur(e*(t-n+1))}function Re(n,t){var e=n?n[t]:m;return gt(e)?n[t]():e}function Be(n,e,r){var u=t.templateSettings;n||(n=""),r=Rr({},r,u);var i,o=Rr({},r.imports,u.imports),a=Nr(o),l=Et(o),c=0,f=r.interpolate||M,p="__p += '",v=Ve((r.escape||M).source+"|"+f.source+"|"+(f===I?O:M).source+"|"+(r.evaluate||M).source+"|$","g");n.replace(v,function(t,e,r,u,o,a){return r||(r=u),p+=n.slice(c,a).replace(q,s),e&&(p+="' +\n__e("+e+") +\n'"),o&&(i=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+t.length,t}),p+="';\n";var h=r.variable,g=h;g||(h="obj",p="with ("+h+") {\n"+p+"\n}\n"),p=(i?p.replace(k,""):p).replace(C,"$1").replace(E,"$1;"),p="function("+h+") {\n"+(g?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+P++ +"]")+"\n*/";try{var d=We(a,"return "+p+y).apply(m,l)}catch(b){throw b.source=p,b}return e?d(e):(d.source=p,d)}function Fe(n,e,r){n=(n=+n)>-1?n:0;var u=-1,i=$e(n);for(e=t.createCallback(e,r,1);++u<n;)i[u]=e(u);return i}function Me(n){return null==n?"":Ge(n).replace(N,Z)}function Le(n){var t=++x;return Ge(null==n?"":n)+t}function qe(n,t){return t(n),n}function De(){return Ge(this.__wrapped__)}function Pe(){return this.__wrapped__}n=n?et.defaults(u.Object(),n,et.pick(u,D)):u;var $e=n.Array,ze=n.Boolean,Ue=n.Date,We=n.Function,Je=n.Math,Xe=n.Number,Ke=n.Object,Ve=n.RegExp,Ge=n.String,He=n.TypeError,Qe=[],Ye=Ke.prototype;Ge.prototype;var Ze=n._,nr=Ve("^"+Ge(Ye.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),tr=Je.ceil,er=n.clearTimeout,rr=Qe.concat,ur=Je.floor,ir=We.prototype.toString,or=nr.test(or=Ke.getPrototypeOf)&&or,ar=Ye.hasOwnProperty,lr=Qe.push,cr=(Ye.propertyIsEnumerable,n.setImmediate),fr=n.setTimeout,sr=Ye.toString,pr=nr.test(pr=sr.bind)&&pr,vr=nr.test(vr=Ke.create)&&vr,hr=nr.test(hr=$e.isArray)&&hr,gr=n.isFinite,yr=n.isNaN,dr=nr.test(dr=Ke.keys)&&dr,mr=Je.max,br=Je.min,_r=n.parseInt,xr=Je.random,wr=Qe.slice,Sr=nr.test(n.attachEvent),jr=pr&&!/\n|true/.test(pr+Sr),Ar={};Ar[z]=$e,Ar[U]=ze,Ar[W]=Ue,Ar[J]=We,Ar[K]=Ke,Ar[X]=Xe,Ar[V]=Ve,Ar[G]=Ge,e.prototype=t.prototype;var kr=t.support={};kr.fastBind=pr&&!jr,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:t}};var Cr=hr,Er=function(n){var t,e=n,r=[];if(!e)return r;if(!Q[typeof n])return r;for(t in e)ar.call(e,t)&&r.push(t);return r},Nr=dr?function(n){return yt(n)?dr(n):[]}:Er,Or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tr=lt(Or),Ir=function(n,e,r){var u,i=n,o=i;if(!i)return o;var a=arguments,l=0,c="number"==typeof r?2:a.length;if(c>3&&"function"==typeof a[c-2])var f=t.createCallback(a[--c-1],a[c--],2);else c>2&&"function"==typeof a[c-1]&&(f=a[--c]);for(;++l<c;)if(i=a[l],i&&Q[typeof i])for(var s=-1,p=Q[typeof i]&&Nr(i),v=p?p.length:0;++s<v;)u=p[s],o[u]=f?f(o[u],i[u]):i[u];return o},Rr=function(n,t,e){var r,u=n,i=u;if(!u)return i;for(var o=arguments,a=0,l="number"==typeof e?2:o.length;++a<l;)if(u=o[a],u&&Q[typeof u])for(var c=-1,f=Q[typeof u]&&Nr(u),s=f?f.length:0;++c<s;)r=f[c],"undefined"==typeof i[r]&&(i[r]=u[r]);return i},Br=function(n,e,r){var u,i=n,o=i;if(!i)return o;if(!Q[typeof i])return o;e=e&&"undefined"==typeof r?e:t.createCallback(e,r);for(u in i)if(e(i[u],u,n)===!1)return o;return o},Fr=function(n,e,r){var u,i=n,o=i;if(!i)return o;if(!Q[typeof i])return o;e=e&&"undefined"==typeof r?e:t.createCallback(e,r);for(var a=-1,l=Q[typeof i]&&Nr(i),c=l?l.length:0;++a<c;)if(u=l[a],e(i[u],u,n)===!1)return o;return o},Mr=function(n){if(!n||sr.call(n)!=K)return!1;var t=n.valueOf,e="function"==typeof t&&(e=or(t))&&or(e);return e?n==e||or(n)==e:Y(n)},Lr=Rt,qr=A(function $r(n,t,e){for(var r=-1,u=n?n.length:0,i=[];++r<u;){var o=n[r];e&&(o=e(o,r,n)),Cr(o)?lr.apply(i,t?o:$r(o)):i.push(o)}return i}),Dr=A(function(n,t,e){var r=-1,u=_(),a=n?n.length:0,l=[],c=!t&&a>=j&&u===i,s=e||c?p():l;if(c){var v=f(s);v?(u=o,s=v):(c=!1,s=e?s:(h(s),l))}for(;++r<a;){var y=n[r],d=e?e(y,r,n):y;(t?!r||s[s.length-1]!==d:u(s,d)<0)&&((e||c)&&s.push(d),l.push(y))}return c?(h(s.array),g(s)):e&&h(s),l});jr&&nt&&"function"==typeof cr&&(_e=he(cr,n));var Pr=8==_r(B+"08")?_r:function(n,t){return _r(xt(n)?n.replace(F,""):n,t||0)};return t.after=ve,t.assign=Ir,t.at=Nt,t.bind=he,t.bindAll=ge,t.bindKey=ye,t.compact=Ht,t.compose=de,t.countBy=Tt,t.createCallback=me,t.debounce=be,t.defaults=Rr,t.defer=_e,t.delay=xe,t.difference=Qt,t.filter=Rt,t.flatten=qr,t.forEach=Ft,t.forIn=Br,t.forOwn=Fr,t.functions=ot,t.groupBy=Mt,t.initial=te,t.intersection=ee,t.invert=lt,t.invoke=Lt,t.keys=Nr,t.map=qt,t.max=Dt,t.memoize=we,t.merge=St,t.min=Pt,t.omit=jt,t.once=Se,t.pairs=At,t.partial=je,t.partialRight=Ae,t.pick=kt,t.pluck=$t,t.range=ie,t.reject=Wt,t.rest=oe,t.shuffle=Jt,t.sortBy=Vt,t.tap=qe,t.throttle=ke,t.times=Fe,t.toArray=Gt,t.transform=Ct,t.union=le,t.uniq=Dr,t.unzip=ce,t.values=Et,t.where=Lr,t.without=fe,t.wrap=Ce,t.zip=se,t.zipObject=pe,t.collect=qt,t.drop=oe,t.each=Ft,t.extend=Ir,t.methods=ot,t.object=pe,t.select=Rt,t.tail=oe,t.unique=Dr,Oe(t),t.chain=t,t.prototype.chain=function(){return this},t.clone=rt,t.cloneDeep=ut,t.contains=Ot,t.escape=Ee,t.every=It,t.find=Bt,t.findIndex=Yt,t.findKey=it,t.has=at,t.identity=Ne,t.indexOf=ne,t.isArguments=tt,t.isArray=Cr,t.isBoolean=ct,t.isDate=ft,t.isElement=st,t.isEmpty=pt,t.isEqual=vt,t.isFinite=ht,t.isFunction=gt,t.isNaN=dt,t.isNull=mt,t.isNumber=bt,t.isObject=yt,t.isPlainObject=Mr,t.isRegExp=_t,t.isString=xt,t.isUndefined=wt,t.lastIndexOf=ue,t.mixin=Oe,t.noConflict=Te,t.parseInt=Pr,t.random=Ie,t.reduce=zt,t.reduceRight=Ut,t.result=Re,t.runInContext=d,t.size=Xt,t.some=Kt,t.sortedIndex=ae,t.template=Be,t.unescape=Me,t.uniqueId=Le,t.all=It,t.any=Kt,t.detect=Bt,t.findWhere=Bt,t.foldl=zt,t.foldr=Ut,t.include=Ot,t.inject=zt,Fr(t,function(n,e){t.prototype[e]||(t.prototype[e]=function(){var e=[this.__wrapped__];return lr.apply(e,arguments),n.apply(t,e)})}),t.first=Zt,t.last=re,t.take=Zt,t.head=Zt,Fr(t,function(n,r){t.prototype[r]||(t.prototype[r]=function(t,r){var u=n(this.__wrapped__,t,r);return null==t||r&&"function"!=typeof t?u:new e(u)})}),t.VERSION="1.3.1",t.prototype.toString=De,t.prototype.value=Pe,t.prototype.valueOf=Pe,Ft(["join","pop","shift"],function(n){var e=Qe[n];t.prototype[n]=function(){return e.apply(this.__wrapped__,arguments)}}),Ft(["push","reverse","sort","unshift"],function(n){var e=Qe[n];t.prototype[n]=function(){return e.apply(this.__wrapped__,arguments),this}}),Ft(["concat","slice","splice"],function(n){var r=Qe[n];t.prototype[n]=function(){return new e(r.apply(this.__wrapped__,arguments))}}),t}var m,b=[],_=[],x=0,w={},S=+new Date+"",j=75,A=40,k=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,O=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,I=/<%=([\s\S]+?)%>/g,R=(R=/\bthis\b/)&&R.test(d)&&R,B=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",F=RegExp("^["+B+"]*0+(?=.$)"),M=/($^)/,L=/[&<>"']/g,q=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],P=0,$="[object Arguments]",z="[object Array]",U="[object Boolean]",W="[object Date]",J="[object Function]",X="[object Number]",K="[object Object]",V="[object RegExp]",G="[object String]",H={};H[J]=!1,H[$]=H[z]=H[U]=H[W]=H[X]=H[K]=H[V]=H[G]=!0;var Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Z=Q[typeof r]&&r,nt=Q[typeof e]&&e&&e.exports==Z&&e,tt=Q[typeof t]&&t;!tt||tt.global!==tt&&tt.window!==tt||(u=tt);var et=d();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(u._=et,n(function(){return et})):Z&&!Z.nodeType?nt?(nt.exports=et)._=et:Z._=et:u._=et}(this)}(window)},{}],2:[function(n,t,e){"use strict";function r(n){var t=n.prototype._NS+"|"+n.prototype._EL;c[t]=n,s[t]=n}function u(n){return l.serializeToString(n)}function i(n){var t,e={},r={constructor:!0,_EL:!0,_NS:!0,_extensions:!0,_name:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};for(t in n._extensions)n._extensions[t].toJSON&&(e[t]=n._extensions[t].toJSON());for(t in n)if(!r[t]&&!(f[n._NS+"|"+n._EL]||{})[t]&&!n._extensions[t]&&"_"!==t[0]){var u=n[t];if("function"==typeof u)continue;var i=Object.prototype.toString.call(u);i.indexOf("Object")>=0?Object.keys(u).length>0&&(e[t]=u):i.indexOf("Array")>=0?u.length>0&&(e[t]=u):u&&(e[t]=u)}return e}var o=n("underscore");n("./helpers").find;var a=n("./types"),l=new XMLSerializer,c={},f={},s={};e.build=function(n){var t=s[n.namespaceURI+"|"+n.localName];return t?new t(null,n):void 0},e.extend=function(n,t,r){var u=n.prototype._NS+"|"+n.prototype._EL,i=t.prototype._name,o=t.prototype._NS+"|"+t.prototype._EL;c[o]=t,f[o]||(f[o]={}),f[u]||(f[u]={}),f[u][i]=t,e.add(n,i,a.extension(t)),r&&e.add(n,r,a.multiExtension(t))},e.add=function(n,t,e){e.get&&n.prototype.__defineGetter__(t,e.get),e.set&&n.prototype.__defineSetter__(t,e.set)},e.define=function(n){var t=function(t,e){var r=this;return r.xml=e||document.createElementNS(r._NS,r._EL),r.xml.parentNode&&r.xml.parentNode.namespaceURI===r._NS||r.xml.setAttribute("xmlns",r._NS),r._extensions={},o.each(r.xml.childNodes,function(n){var t=n.namespaceURI+"|"+n.localName,e=c[t];if(void 0!==e){var u=e.prototype._name;r._extensions[u]=new e(null,n),r._extensions[u].parent=r}}),o.extend(r,t),n.init&&n.init(t),r};t.prototype={constructor:{value:t},_name:n.name,_eventname:n.eventName,_NS:n.namespace,_EL:n.element,toString:function(){return u(this.xml)},toJSON:function(){return i(this)}};var a=Object.keys(n.fields||{});return a.forEach(function(r){e.add(t,r,n.fields[r])}),n.topLevel&&r(t),t}},{"./helpers":3,"./types":4,underscore:6}],3:[function(n,t,e){"use strict";var r=n("underscore"),u="http://www.w3.org/XML/1998/namespace";e.getParser=function(){return new DOMParser},e.createElement=function(n,t){return document.createElement(n,t)};var i=e.find=function(n,t,e){var u=n.querySelectorAll(e);return r.filter(u,function(e){return e.namespaceURI===t&&e.parentNode==n})};e.findOrCreate=function(n,t,r){var u=e.find(n,t,r);if(u.length)return u[0];var i=document.createElementNS(t,r);return n.appendChild(i),i},e.getAttribute=function(n,t,e){return n.getAttribute(t)||e||""},e.setAttribute=function(n,t,e,r){e||r?n.setAttribute(t,e):n.removeAttribute(t)},e.getBoolAttribute=function(n,t,e){var r=n.getAttribute(t)||e||"";return"true"===r||"1"===r},e.setBoolAttribute=function(n,t,e){e?n.setAttribute(t,"1"):n.removeAttribute(t)},e.getSubAttribute=function(n,t,e,r,u){var o=i(n,t,e);if(!o)return"";for(var a=0;a<o.length;a++)return o[a].getAttribute(r)||u||"";return""},e.setSubAttribute=function(n,t,e,r,u){var o=i(n,t,e);if(o.length)for(var a=0;a<o.length;a++){if(u)return o[a].setAttribute(r,u),void 0;o[a].removeAttribute(r)}else u&&(e=document.createElementNS(t,e),e.setAttribute(r,u),n.appendChild(e))},e.getText=function(n){return n.textContent},e.setText=function(n,t){n.textContent=t},e.getSubText=function(n,t,e,r){var u=i(n,t,e);return r=r||"",u.length?u[0].textContent||r:r},e.setSubText=function(n,t,e,r){var u=i(n,t,e);if(u.length)for(var o=0;o<u.length;o++){if(r)return u[o].textContent=r,void 0;n.removeChild(u[o])}else if(r){var a=document.createElementNS(t,e);a.textContent=r,n.appendChild(a)}},e.getMultiSubText=function(n,t,e,r){var u=i(n,t,e),o=[];r=r||function(n){return n.textContent||""};for(var a=0;a<u.length;a++)o.push(r(u[a]));return o},e.setMultiSubText=function(n,t,e,u,o){var a=i(n,t,e),l=[];o=o||function(r){var u=document.createElementNS(t,e);u.textContent=r,n.appendChild(u)},l="string"==typeof u?(u||"").split("\n"):u,r.forEach(a,function(t){n.removeChild(t)}),r.forEach(l,function(n){n&&o(n)})},e.getSubLangText=function(n,t,e,r){var o=i(n,t,e);if(!o.length)return{};for(var a,l,c={},f=[],s=0;s<o.length;s++)l=o[s],a=l.getAttributeNS(u,"lang")||r,f.push(a),c[a]=l.textContent||"";return c},e.setSubLangText=function(n,t,e,r,o){var a,l,c=i(n,t,e);if(c.length)for(var f=0;f<c.length;f++)n.removeChild(c[f]);if("string"==typeof r)a=document.createElementNS(t,e),a.textContent=r,n.appendChild(a);else if("object"==typeof r)for(l in r)r.hasOwnProperty(l)&&(a=document.createElementNS(t,e),l!==o&&a.setAttributeNS(u,"lang",l),a.textContent=r[l],n.appendChild(a))},e.getBoolSub=function(n,t,e){var r=i(n,t,e);return!!r.length},e.setBoolSub=function(n,t,e,r){var u=i(n,t,e);if(u.length)for(var o=0;o<u.length;o++){if(r)return;n.removeChild(u[o])}else if(r){var a=document.createElementNS(t,e);n.appendChild(a)}}},{underscore:6}],4:[function(n,t,e){"use strict";var r=n("underscore"),u=n("./helpers"),i=u.find,o=e.field=function(n,t){return function(){var e=r.toArray(arguments);return{get:function(){return n.apply(null,[this.xml].concat(e))},set:function(n){t.apply(null,[this.xml].concat(e).concat([n]))}}}};e.field=o,e.boolAttribute=o(u.getBoolAttribute,u.setBoolAttribute),e.subAttribute=o(u.getSubAttribute,u.setSubAttribute),e.text=o(u.getText,u.setText),e.subText=o(u.getSubText,u.setSubText),e.multiSubText=o(u.getMultiSubText,u.setMultiSubText),e.subLangText=o(u.getSubLangText,u.setSubLangText),e.boolSub=o(u.getBoolSub,u.setBoolSub),e.attribute=function(n,t){return{get:function(){return u.getAttribute(this.xml,n,t)},set:function(t){u.setAttribute(this.xml,n,t)}}},e.extension=function(n){return{get:function(){var t=n.prototype._name;if(!this._extensions[t]){var e=i(this.xml,n.prototype._NS,n.prototype._EL);e.length?this._extensions[t]=new n(null,e[0]):(this._extensions[t]=new n,this.xml.appendChild(this._extensions[t].xml)),this._extensions[t].parent=this}return this._extensions[t]},set:function(t){var e=this[n.prototype._name];r.extend(e,t)}}},e.multiExtension=function(n){return{get:function(){var t=i(this.xml,n.prototype._NS,n.prototype._EL),e=[];return r.forEach(t,function(t){e.push(new n({},t).toJSON())}),e},set:function(t){var e=this,u=i(this.xml,n.prototype._NS,n.prototype._EL);r.forEach(u,function(n){e.xml.removeChild(n)}),r.forEach(t,function(t){var r=new n(t);e.xml.appendChild(r.xml)})}}}},{"./helpers":3,underscore:6}],6:[function(n,t,e){!function(){!function(){var n=this,r=n._,u={},i=Array.prototype,o=Object.prototype,a=Function.prototype,l=i.push,c=i.slice,f=i.concat,s=o.toString,p=o.hasOwnProperty,v=i.forEach,h=i.map,g=i.reduce,y=i.reduceRight,d=i.filter,m=i.every,b=i.some,_=i.indexOf,x=i.lastIndexOf,w=Array.isArray,S=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?(this._wrapped=n,void 0):new A(n)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=A),e._=A):n._=A,A.VERSION="1.5.2";var k=A.each=A.forEach=function(n,t,e){if(null!=n)if(v&&n.forEach===v)n.forEach(t,e);else if(n.length===+n.length){for(var r=0,i=n.length;i>r;r++)if(t.call(e,n[r],r,n)===u)return}else for(var o=A.keys(n),r=0,i=o.length;i>r;r++)if(t.call(e,n[o[r]],o[r],n)===u)return};A.map=A.collect=function(n,t,e){var r=[];return null==n?r:h&&n.map===h?n.map(t,e):(k(n,function(n,u,i){r.push(t.call(e,n,u,i))}),r)};var C="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,e,r){var u=arguments.length>2;if(null==n&&(n=[]),g&&n.reduce===g)return r&&(t=A.bind(t,r)),u?n.reduce(t,e):n.reduce(t);if(k(n,function(n,i,o){u?e=t.call(r,e,n,i,o):(e=n,u=!0)}),!u)throw new TypeError(C);return e},A.reduceRight=A.foldr=function(n,t,e,r){var u=arguments.length>2;
if(null==n&&(n=[]),y&&n.reduceRight===y)return r&&(t=A.bind(t,r)),u?n.reduceRight(t,e):n.reduceRight(t);var i=n.length;if(i!==+i){var o=A.keys(n);i=o.length}if(k(n,function(a,l,c){l=o?o[--i]:--i,u?e=t.call(r,e,n[l],l,c):(e=n[l],u=!0)}),!u)throw new TypeError(C);return e},A.find=A.detect=function(n,t,e){var r;return E(n,function(n,u,i){return t.call(e,n,u,i)?(r=n,!0):void 0}),r},A.filter=A.select=function(n,t,e){var r=[];return null==n?r:d&&n.filter===d?n.filter(t,e):(k(n,function(n,u,i){t.call(e,n,u,i)&&r.push(n)}),r)},A.reject=function(n,t,e){return A.filter(n,function(n,r,u){return!t.call(e,n,r,u)},e)},A.every=A.all=function(n,t,e){t||(t=A.identity);var r=!0;return null==n?r:m&&n.every===m?n.every(t,e):(k(n,function(n,i,o){return(r=r&&t.call(e,n,i,o))?void 0:u}),!!r)};var E=A.some=A.any=function(n,t,e){t||(t=A.identity);var r=!1;return null==n?r:b&&n.some===b?n.some(t,e):(k(n,function(n,i,o){return r||(r=t.call(e,n,i,o))?u:void 0}),!!r)};A.contains=A.include=function(n,t){return null==n?!1:_&&n.indexOf===_?-1!=n.indexOf(t):E(n,function(n){return n===t})},A.invoke=function(n,t){var e=c.call(arguments,2),r=A.isFunction(t);return A.map(n,function(n){return(r?t:n[t]).apply(n,e)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,e){return A.isEmpty(t)?e?void 0:[]:A[e?"find":"filter"](n,function(n){for(var e in t)if(t[e]!==n[e])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,e){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var r={computed:-1/0,value:-1/0};return k(n,function(n,u,i){var o=t?t.call(e,n,u,i):n;o>r.computed&&(r={value:n,computed:o})}),r.value},A.min=function(n,t,e){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var r={computed:1/0,value:1/0};return k(n,function(n,u,i){var o=t?t.call(e,n,u,i):n;o<r.computed&&(r={value:n,computed:o})}),r.value},A.shuffle=function(n){var t,e=0,r=[];return k(n,function(n){t=A.random(e++),r[e-1]=r[t],r[t]=n}),r},A.sample=function(n,t,e){return arguments.length<2||e?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var N=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,e){var r=N(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:r.call(e,n,t,u)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var O=function(n){return function(t,e,r){var u={},i=null==e?A.identity:N(e);return k(t,function(e,o){var a=i.call(r,e,o,t);n(u,a,e)}),u}};A.groupBy=O(function(n,t,e){(A.has(n,t)?n[t]:n[t]=[]).push(e)}),A.indexBy=O(function(n,t,e){n[t]=e}),A.countBy=O(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,e,r){e=null==e?A.identity:N(e);for(var u=e.call(r,t),i=0,o=n.length;o>i;){var a=i+o>>>1;e.call(r,n[a])<u?i=a+1:o=a}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):n.length===+n.length?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:n.length===+n.length?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:c.call(n,0,t)},A.initial=function(n,t,e){return c.call(n,0,n.length-(null==t||e?1:t))},A.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,e){return c.call(n,null==t||e?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var T=function(n,t,e){return t&&A.every(n,A.isArray)?f.apply(e,n):(k(n,function(n){A.isArray(n)||A.isArguments(n)?t?l.apply(e,n):T(n,t,e):e.push(n)}),e)};A.flatten=function(n,t){return T(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,e,r){A.isFunction(t)&&(r=e,e=t,t=!1);var u=e?A.map(n,e,r):n,i=[],o=[];return k(u,function(e,r){(t?r&&o[o.length-1]===e:A.contains(o,e))||(o.push(e),i.push(n[r]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=f.apply(i,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),e=0;n>e;e++)t[e]=A.pluck(arguments,""+e);return t},A.object=function(n,t){if(null==n)return{};for(var e={},r=0,u=n.length;u>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},A.indexOf=function(n,t,e){if(null==n)return-1;var r=0,u=n.length;if(e){if("number"!=typeof e)return r=A.sortedIndex(n,t),n[r]===t?r:-1;r=0>e?Math.max(0,u+e):e}if(_&&n.indexOf===_)return n.indexOf(t,e);for(;u>r;r++)if(n[r]===t)return r;return-1},A.lastIndexOf=function(n,t,e){if(null==n)return-1;var r=null!=e;if(x&&n.lastIndexOf===x)return r?n.lastIndexOf(t,e):n.lastIndexOf(t);for(var u=r?e:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,e){arguments.length<=1&&(t=n||0,n=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/e),0),u=0,i=new Array(r);r>u;)i[u++]=n,n+=e;return i};var I=function(){};A.bind=function(n,t){var e,r;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return e=c.call(arguments,2),r=function(){if(!(this instanceof r))return n.apply(t,e.concat(c.call(arguments)));I.prototype=n.prototype;var u=new I;I.prototype=null;var i=n.apply(u,e.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var e={};return t||(t=A.identity),function(){var r=t.apply(this,arguments);return A.has(e,r)?e[r]:e[r]=n.apply(this,arguments)}},A.delay=function(n,t){var e=c.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,e){var r,u,i,o=null,a=0;e||(e={});var l=function(){a=e.leading===!1?0:new Date,o=null,i=n.apply(r,u)};return function(){var c=new Date;a||e.leading!==!1||(a=c);var f=t-(c-a);return r=this,u=arguments,0>=f?(clearTimeout(o),o=null,a=c,i=n.apply(r,u)):o||e.trailing===!1||(o=setTimeout(l,f)),i}},A.debounce=function(n,t,e){var r,u,i,o,a;return function(){i=this,u=arguments,o=new Date;var l=function(){var c=new Date-o;t>c?r=setTimeout(l,t-c):(r=null,e||(a=n.apply(i,u)))},c=e&&!r;return r||(r=setTimeout(l,t)),c&&(a=n.apply(i,u)),a}},A.once=function(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}},A.wrap=function(n,t){return function(){var e=[n];return l.apply(e,arguments),t.apply(this,e)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;e>=0;e--)t=[n[e].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=S||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var e in n)A.has(n,e)&&t.push(e);return t},A.values=function(n){for(var t=A.keys(n),e=t.length,r=new Array(e),u=0;e>u;u++)r[u]=n[t[u]];return r},A.pairs=function(n){for(var t=A.keys(n),e=t.length,r=new Array(e),u=0;e>u;u++)r[u]=[t[u],n[t[u]]];return r},A.invert=function(n){for(var t={},e=A.keys(n),r=0,u=e.length;u>r;r++)t[n[e[r]]]=e[r];return t},A.functions=A.methods=function(n){var t=[];for(var e in n)A.isFunction(n[e])&&t.push(e);return t.sort()},A.extend=function(n){return k(c.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},A.pick=function(n){var t={},e=f.apply(i,c.call(arguments,1));return k(e,function(e){e in n&&(t[e]=n[e])}),t},A.omit=function(n){var t={},e=f.apply(i,c.call(arguments,1));for(var r in n)A.contains(e,r)||(t[r]=n[r]);return t},A.defaults=function(n){return k(c.call(arguments,1),function(t){if(t)for(var e in t)void 0===n[e]&&(n[e]=t[e])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var R=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=s.call(n);if(u!=s.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=e.length;i--;)if(e[i]==n)return r[i]==t;var o=n.constructor,a=t.constructor;if(o!==a&&!(A.isFunction(o)&&o instanceof o&&A.isFunction(a)&&a instanceof a))return!1;e.push(n),r.push(t);var l=0,c=!0;if("[object Array]"==u){if(l=n.length,c=l==t.length)for(;l--&&(c=R(n[l],t[l],e,r)););}else{for(var f in n)if(A.has(n,f)&&(l++,!(c=A.has(t,f)&&R(n[f],t[f],e,r))))break;if(c){for(f in t)if(A.has(t,f)&&!l--)break;c=!l}}return e.pop(),r.pop(),c};A.isEqual=function(n,t){return R(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==s.call(n)},A.isObject=function(n){return n===Object(n)},k(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return s.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==s.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return p.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,e){for(var r=Array(Math.max(0,n)),u=0;n>u;u++)r[u]=t.call(e,u);return r},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=A.invert(B.escape);var F={escape:new RegExp("["+A.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(B.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(F[n],function(t){return B[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var e=n[t];return A.isFunction(e)?e.call(n):e},A.mixin=function(n){k(A.functions(n),function(t){var e=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return l.apply(n,arguments),P.call(this,e.apply(A,n))}})};var M=0;A.uniqueId=function(n){var t=++M+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,e){var r;e=A.defaults({},e,A.templateSettings);var u=new RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(u,function(t,e,r,u,a){return o+=n.slice(i,a).replace(D,function(n){return"\\"+q[n]}),e&&(o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),u&&(o+="';\n"+u+"\n__p+='"),i=a+t.length,t}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return r(t,A);var l=function(n){return r.call(this,n,A)};return l.source="function("+(e.variable||"obj")+"){\n"+o+"}",l},A.chain=function(n){return A(n).chain()};var P=function(n){return this._chain?A(n).chain():n};A.mixin(A),k(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];A.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!=n&&"splice"!=n||0!==e.length||delete e[0],P.call(this,e)}}),k(["concat","join","slice"],function(n){var t=i[n];A.prototype[n]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)}()},{}]},{},[1])(1)});